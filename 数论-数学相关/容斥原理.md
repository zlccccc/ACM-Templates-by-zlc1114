错排公式: $D[n]=(n-1)(D[n-2]+D[n-1])=(-1)^n+n*D[n-1]$

$n$ 对人，其中 $m$ 对必须错排的公式：
$f[i][0]=fac[i];$ 做法是考虑代表总共有 $j$ 个限制，考虑增加的一对，容斥一下就完了
$FOR(j,1,i)\ f[i][j]=f[i][j-1]-f[i-1][j-1];$

卡特兰数: (括号序列匹配数, 或者一条不经过中线的路径条数)
$C(2*n,n)-C(2*n,n-1)$

考虑一个人(或者一种方案), 用来计算容斥系数
对于这种方案会被算到的方案数:
对于组合数形式:

$1.\sum{C(n,i)*f[i]}=1$
$2.\sum{C(n,i)*f[i]}=a[i]?$

然后, 你的答案的方案数就 $C(......)$ 了

对于斯特林数形式:

对于bell数形式: